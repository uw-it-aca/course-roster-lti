{% extends 'course_roster/base.html' %}

{% block content %}
<div class="course-roster-container">
    <h2 id="course-roster-header">Student Photos for {{course_name}}</h2>

    <div id="filter-container" class="form-inline">
        <input type="text" id="search-filter" class="form-control" aria-label="Search students. As you type in this field, the list of students will be automatically filtered to only include those whose names match your input." placeholder="Search students" name="search_term"/>
        <span id="filtering" class="hidden"><i class="fa fa-spinner fa-spin"></i></span>
    </div>

    <div class="container-fluid">
        <div id="thumbnail-grid" class="row"></div>
        <div id="filter-none" class="alert alert-info hidden">
            <p class="lead">No students match your search</p>
        </div>
        <div class="loading"><i class="fa fa-spinner fa-pulse fa-2x"></i></div>
    </div>
</div>

{% load templatetag_handlebars %}
{% tplhandlebars "section-filter-tmpl" %}
<select id="section-filter" aria-label="Limit search to section" name="section" class="form-control">
    <option value="">All Sections</option>{{# each sections}}
    <option value="{{id}}">{{name}}</option>{{/each}}
</select>
{% endtplhandlebars %}

{% tplhandlebars "thumbnail-grid-tmpl" %}

{{# each people}}
   
    <div class="person-container hidden col-sm-2 col-xs-3" data-sections="{{# each sections}}{{this}}:{{/each}}" data-names="{{search_name}}">
        <a class="person-photo" href="{{user_url}}" target="_top" data-photo="{{photo_url}}" data-avatar="{{avatar_url}}"></a><br/>
        <div class="name-container">
            <a href="{{user_url}}" target="_top">
                <span class="name">{{name}}</span>
                <span class="login-id">{{login_id}}</span>
            </a>
        </div>
    </div>
{{/each}}

{% endtplhandlebars %}

{% endblock %}
